{"remainingRequest":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/thread-loader/dist/cjs.js??ref--9-2!/home/abdoulaye/Bureau/Projet JHipster/node_modules/ts-loader/index.js??ref--9-3!/home/abdoulaye/Bureau/Projet JHipster/node_modules/eslint-loader/dist/cjs.js!/home/abdoulaye/Bureau/Projet JHipster/src/main/webapp/app/admin/health/health.component.ts","dependencies":[{"path":"/home/abdoulaye/Bureau/Projet JHipster/src/main/webapp/app/admin/health/health.component.ts","mtime":1570614182466},{"path":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/abdoulaye/Bureau/Projet JHipster/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CnZhciBfYSwgX2I7CmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOwppbXBvcnQgeyBOZ2JNb2RhbCB9IGZyb20gJ0BuZy1ib290c3RyYXAvbmctYm9vdHN0cmFwJzsKaW1wb3J0IHsgSmhpSGVhbHRoU2VydmljZSB9IGZyb20gJy4vaGVhbHRoLnNlcnZpY2UnOwppbXBvcnQgeyBKaGlIZWFsdGhNb2RhbENvbXBvbmVudCB9IGZyb20gJy4vaGVhbHRoLW1vZGFsLmNvbXBvbmVudCc7CmxldCBKaGlIZWFsdGhDaGVja0NvbXBvbmVudCA9IGNsYXNzIEpoaUhlYWx0aENoZWNrQ29tcG9uZW50IHsKICAgIGNvbnN0cnVjdG9yKG1vZGFsU2VydmljZSwgaGVhbHRoU2VydmljZSkgewogICAgICAgIHRoaXMubW9kYWxTZXJ2aWNlID0gbW9kYWxTZXJ2aWNlOwogICAgICAgIHRoaXMuaGVhbHRoU2VydmljZSA9IGhlYWx0aFNlcnZpY2U7CiAgICB9CiAgICBuZ09uSW5pdCgpIHsKICAgICAgICB0aGlzLnJlZnJlc2goKTsKICAgIH0KICAgIGJhc2VOYW1lKG5hbWUpIHsKICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGhTZXJ2aWNlLmdldEJhc2VOYW1lKG5hbWUpOwogICAgfQogICAgZ2V0QmFkZ2VDbGFzcyhzdGF0dXNTdGF0ZSkgewogICAgICAgIGlmIChzdGF0dXNTdGF0ZSA9PT0gJ1VQJykgewogICAgICAgICAgICByZXR1cm4gJ2JhZGdlLXN1Y2Nlc3MnOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuICdiYWRnZS1kYW5nZXInOwogICAgICAgIH0KICAgIH0KICAgIHJlZnJlc2goKSB7CiAgICAgICAgdGhpcy51cGRhdGluZ0hlYWx0aCA9IHRydWU7CiAgICAgICAgdGhpcy5oZWFsdGhTZXJ2aWNlLmNoZWNrSGVhbHRoKCkuc3Vic2NyaWJlKGhlYWx0aCA9PiB7CiAgICAgICAgICAgIHRoaXMuaGVhbHRoRGF0YSA9IHRoaXMuaGVhbHRoU2VydmljZS50cmFuc2Zvcm1IZWFsdGhEYXRhKGhlYWx0aCk7CiAgICAgICAgICAgIHRoaXMudXBkYXRpbmdIZWFsdGggPSBmYWxzZTsKICAgICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDUwMykgewogICAgICAgICAgICAgICAgdGhpcy5oZWFsdGhEYXRhID0gdGhpcy5oZWFsdGhTZXJ2aWNlLnRyYW5zZm9ybUhlYWx0aERhdGEoZXJyb3IuZXJyb3IpOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGluZ0hlYWx0aCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgICBzaG93SGVhbHRoKGhlYWx0aCkgewogICAgICAgIGNvbnN0IG1vZGFsUmVmID0gdGhpcy5tb2RhbFNlcnZpY2Uub3BlbihKaGlIZWFsdGhNb2RhbENvbXBvbmVudCk7CiAgICAgICAgbW9kYWxSZWYuY29tcG9uZW50SW5zdGFuY2UuY3VycmVudEhlYWx0aCA9IGhlYWx0aDsKICAgICAgICBtb2RhbFJlZi5yZXN1bHQudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAvLyBMZWZ0IGJsYW5rIGludGVudGlvbmFsbHksIG5vdGhpbmcgdG8gZG8gaGVyZQogICAgICAgIH0sIHJlYXNvbiA9PiB7CiAgICAgICAgICAgIC8vIExlZnQgYmxhbmsgaW50ZW50aW9uYWxseSwgbm90aGluZyB0byBkbyBoZXJlCiAgICAgICAgfSk7CiAgICB9CiAgICBzdWJTeXN0ZW1OYW1lKG5hbWUpIHsKICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGhTZXJ2aWNlLmdldFN1YlN5c3RlbU5hbWUobmFtZSk7CiAgICB9Cn07CkpoaUhlYWx0aENoZWNrQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFsKICAgIENvbXBvbmVudCh7CiAgICAgICAgc2VsZWN0b3I6ICdqaGktaGVhbHRoJywKICAgICAgICB0ZW1wbGF0ZVVybDogJy4vaGVhbHRoLmNvbXBvbmVudC5odG1sJwogICAgfSksCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgTmdiTW9kYWwgIT09ICJ1bmRlZmluZWQiICYmIE5nYk1vZGFsKSA9PT0gImZ1bmN0aW9uIiA/IF9hIDogT2JqZWN0LCB0eXBlb2YgKF9iID0gdHlwZW9mIEpoaUhlYWx0aFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIEpoaUhlYWx0aFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3RdKQpdLCBKaGlIZWFsdGhDaGVja0NvbXBvbmVudCk7CmV4cG9ydCB7IEpoaUhlYWx0aENoZWNrQ29tcG9uZW50IH07Cg=="},{"version":3,"file":"/home/abdoulaye/Bureau/Projet JHipster/src/main/webapp/app/admin/health/health.component.ts","sourceRoot":"","sources":["/home/abdoulaye/Bureau/Projet JHipster/node_modules/eslint-loader/dist/cjs.js!/home/abdoulaye/Bureau/Projet JHipster/src/main/webapp/app/admin/health/health.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,QAAQ,EAAE,MAAM,4BAA4B,CAAC;AAEtD,OAAO,EAAE,gBAAgB,EAAE,MAAM,kBAAkB,CAAC;AACpD,OAAO,EAAE,uBAAuB,EAAE,MAAM,0BAA0B,CAAC;AAMnE,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;IAIlC,YAAoB,YAAsB,EAAU,aAA+B;QAA/D,iBAAY,GAAZ,YAAY,CAAU;QAAU,kBAAa,GAAb,aAAa,CAAkB;IAAG,CAAC;IAEvF,QAAQ;QACN,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,QAAQ,CAAC,IAAY;QACnB,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC9C,CAAC;IAED,aAAa,CAAC,WAAW;QACvB,IAAI,WAAW,KAAK,IAAI,EAAE;YACxB,OAAO,eAAe,CAAC;SACxB;aAAM;YACL,OAAO,cAAc,CAAC;SACvB;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE3B,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,SAAS,CACxC,MAAM,CAAC,EAAE;YACP,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;YACjE,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC9B,CAAC,EACD,KAAK,CAAC,EAAE;YACN,IAAI,KAAK,CAAC,MAAM,KAAK,GAAG,EAAE;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACtE,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC7B;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IAED,UAAU,CAAC,MAAW;QACpB,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACjE,QAAQ,CAAC,iBAAiB,CAAC,aAAa,GAAG,MAAM,CAAC;QAClD,QAAQ,CAAC,MAAM,CAAC,IAAI,CAClB,MAAM,CAAC,EAAE;YACP,+CAA+C;QACjD,CAAC,EACD,MAAM,CAAC,EAAE;YACP,+CAA+C;QACjD,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,IAAY;QACxB,OAAO,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;CACF,CAAA;AAvDY,uBAAuB;IAJnC,SAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,WAAW,EAAE,yBAAyB;KACvC,CAAC;iEAKkC,QAAQ,oBAAR,QAAQ,oDAAyB,gBAAgB,oBAAhB,gBAAgB;GAJxE,uBAAuB,CAuDnC;SAvDY,uBAAuB","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\nimport { JhiHealthService } from './health.service';\nimport { JhiHealthModalComponent } from './health-modal.component';\n\n@Component({\n  selector: 'jhi-health',\n  templateUrl: './health.component.html'\n})\nexport class JhiHealthCheckComponent implements OnInit {\n  healthData: any;\n  updatingHealth: boolean;\n\n  constructor(private modalService: NgbModal, private healthService: JhiHealthService) {}\n\n  ngOnInit() {\n    this.refresh();\n  }\n\n  baseName(name: string) {\n    return this.healthService.getBaseName(name);\n  }\n\n  getBadgeClass(statusState) {\n    if (statusState === 'UP') {\n      return 'badge-success';\n    } else {\n      return 'badge-danger';\n    }\n  }\n\n  refresh() {\n    this.updatingHealth = true;\n\n    this.healthService.checkHealth().subscribe(\n      health => {\n        this.healthData = this.healthService.transformHealthData(health);\n        this.updatingHealth = false;\n      },\n      error => {\n        if (error.status === 503) {\n          this.healthData = this.healthService.transformHealthData(error.error);\n          this.updatingHealth = false;\n        }\n      }\n    );\n  }\n\n  showHealth(health: any) {\n    const modalRef = this.modalService.open(JhiHealthModalComponent);\n    modalRef.componentInstance.currentHealth = health;\n    modalRef.result.then(\n      result => {\n        // Left blank intentionally, nothing to do here\n      },\n      reason => {\n        // Left blank intentionally, nothing to do here\n      }\n    );\n  }\n\n  subSystemName(name: string) {\n    return this.healthService.getSubSystemName(name);\n  }\n}\n"]}]}